<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Hugo on wananaiko</title>
    <link>https://wananaiko.design/tags/hugo/</link>
    <description>Recent content in Hugo on wananaiko</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh</language>
    <lastBuildDate>Mon, 09 Jan 2023 00:24:18 +0800</lastBuildDate><atom:link href="https://wananaiko.design/tags/hugo/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Hugo 的一些配置记录</title>
      <link>https://wananaiko.design/docs/hugo-develop/</link>
      <pubDate>Mon, 09 Jan 2023 00:24:18 +0800</pubDate>
      
      <guid>https://wananaiko.design/docs/hugo-develop/</guid>
      <description>增加空格之神 使用空格之神的浏览器插件很久了，真的是阅读强迫症患者的福音，空格之神项目地址
在 Hugo的 /layouts/_default/baseof.html 内增加以下代码：
&amp;lt;script src=&amp;#34;https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js&amp;#34;&amp;gt;&amp;lt;/script&amp;gt; &amp;lt;script&amp;gt; pangu.spacingPage(); &amp;lt;/script&amp;gt; 用完后感觉整个世界都清爽了 🤣
使用 Waline 评论系统 依照官网的教程，部署到 Vercel上，适配了 Hugo 的暗黑模式。
增加鼠标滑动时的彩虹效果 没有什么意义的效果，纯属好玩，不代表 LGBT。
在 Hugo 的 /layouts/_default/baseof.html 内增加以下代码：
&amp;lt;!-- 增加鼠标滑动时的彩虹效果 --&amp;gt; &amp;lt;script async src=&amp;#34;/memos/assets/js/browser.js&amp;#34;&amp;gt;&amp;lt;/script&amp;gt; &amp;lt;script&amp;gt;window.addEventListener(&amp;#39;load&amp;#39;,(event)=&amp;gt;{new cursoreffects.rainbowCursor();});&amp;lt;/script&amp;gt; 计划：
给Hugo增加相册功能和单页 参考：添加相册功能</description>
      <content:encoded><![CDATA[<h3 id="增加空格之神">增加空格之神</h3>
<p>使用空格之神的浏览器插件很久了，真的是阅读强迫症患者的福音，<a href="https://github.com/vinta/pangu.js">空格之神项目地址</a></p>
<p>在 Hugo的 /layouts/_default/baseof.html 内增加以下代码：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">pangu</span><span class="p">.</span><span class="nx">spacingPage</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>用完后感觉整个世界都清爽了 🤣</p>
<hr>
<h3 id="使用-waline-评论系统">使用 Waline 评论系统</h3>
<p>依照官网的教程，<a href="https://waline.js.org/guide/deploy/vercel.html">部署到 Vercel上</a>，适配了 Hugo 的暗黑模式。</p>
<hr>
<h3 id="增加鼠标滑动时的彩虹效果">增加鼠标滑动时的彩虹效果</h3>
<p>没有什么意义的效果，纯属好玩，不代表 LGBT。</p>
<p>在 Hugo 的 /layouts/_default/baseof.html 内增加以下代码：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="c">&lt;!-- 增加鼠标滑动时的彩虹效果 --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">async</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/memos/assets/js/browser.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;load&#39;</span><span class="p">,(</span><span class="nx">event</span><span class="p">)=&gt;{</span><span class="k">new</span> <span class="nx">cursoreffects</span><span class="p">.</span><span class="nx">rainbowCursor</span><span class="p">();});&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></div><hr>
<p>计划：</p>
<ul>
<li><input disabled="" type="checkbox"> 给Hugo增加相册功能和单页</li>
</ul>
<p>参考：<a href="https://baohengtao.com/tech/add-gallery-to-hugo/">添加相册功能</a></p>
]]></content:encoded>
    </item>
    
    <item>
      <title>基于 Vercel 和 Fly.io 免费部署的应用</title>
      <link>https://wananaiko.design/docs/dec1220/</link>
      <pubDate>Tue, 20 Dec 2022 00:00:00 +0000</pubDate>
      
      <guid>https://wananaiko.design/docs/dec1220/</guid>
      <description>Hugo 部署到 Vercel 最近考虑把 Wordpress 博客换到 Hugo，一番折腾之后，通过 Github+Vercel 的方式实现了自动部署，还挺方便的，以后只需要在本地编写 Markdown 文件并发布到 Github 就可以了。以 macOS 下为例：
登陆 GitHub，新建一个 GitHub pages，名为 username.github.io。
使用 GitHub 登陆 Vercel，Import 刚才新建的 pages。
Vercel 里的 Project Name 随便写，Build &amp;amp; Development Settings 选择 Hugo，Hugo 的 Version 填写最新的版本号，其他默认，最后提交。
把 Github pages 仓库克隆到本地，比如我这里为：/Users/aiko/wananaiko.github.io，终端里打开该目录后。输入 Hugo server 验证是否可以正常启动。
如果你想要安装和本站一样的主题，可以参考这篇文章：Installation | Update | PaperModX 其他参考文章：
hugo自动部署到vercel
如何使用 Hugo 进行个人博客搭建
将 Memos 作为单页添加到 Hugo 中 方法参考了文章 向Hugo中添加静态单页面Static-Single
建议将 config.toml 里的 EnableInstantClick设置为 false，避免 memos 内容偶尔出现不加载的情况。</description>
      <content:encoded><![CDATA[<h2 id="hugo-部署到-vercel">Hugo 部署到 Vercel</h2>
<p>最近考虑把 Wordpress 博客换到 Hugo，一番折腾之后，通过 Github+Vercel 的方式实现了自动部署，还挺方便的，以后只需要在本地编写 Markdown 文件并发布到 Github 就可以了。以 macOS 下为例：</p>
<ol>
<li>
<p>登陆 GitHub，新建一个 GitHub pages，名为 username.github.io。</p>
</li>
<li>
<p>使用 GitHub 登陆 Vercel，Import 刚才新建的 pages。</p>
</li>
<li>
<p>Vercel 里的 Project Name 随便写，Build &amp; Development Settings 选择 Hugo，Hugo 的 Version 填写最新的版本号，其他默认，最后提交。</p>
</li>
<li>
<p>把 Github pages 仓库克隆到本地，比如我这里为：/Users/aiko/wananaiko.github.io，终端里打开该目录后。输入 <code>Hugo server</code> 验证是否可以正常启动。</p>
</li>
<li>
<p>如果你想要安装和本站一样的主题，可以参考这篇文章：<a href="https://reorx.github.io/hugo-PaperModX/docs/installation/">Installation | Update | PaperModX </a></p>
</li>
</ol>
<p>其他参考文章：</p>
<p><a href="https://www.leftpocket.cn/post/hugo/hugo_vercel/">hugo自动部署到vercel</a></p>
<p><a href="https://humble-blog.vercel.app/hugo/#comments">如何使用 Hugo 进行个人博客搭建</a></p>
<h3 id="将-memos-作为单页添加到-hugo-中">将 Memos 作为单页添加到 Hugo 中</h3>
<p>方法参考了文章 <a href="https://blog.csdn.net/qq_29102545/article/details/121454974">向Hugo中添加静态单页面Static-Single</a></p>
<p>建议将 config.toml 里的 EnableInstantClick设置为 false，避免 memos 内容偶尔出现不加载的情况。</p>
<pre tabindex="0"><code>params:
  EnableInstantClick: false
</code></pre><p><a href="https://wananaiko.design/memos/">memos | wananaiko</a> 页面样式来自 <a href="https://github.com/eallion/memos.top">eallion/memos.top</a></p>
<p>在折腾的过程中，你需要用到 <a href="https://transform.tools/yaml-to-toml">YAML to TOML 在线转换</a></p>
<hr>
<h2 id="umami-部署到-vercel">Umami 部署到 Vercel</h2>
<p>将网站统计分析工具 Umami 部署到 Vercel 上。之前体验过 <a href="https://plausible.io/">Plausible Analytics</a>，试用结束之后就放弃了，个人小站，暂时觉得还没有必要为统计工具付费。缺点是查看面板数据感觉加载有点慢，不过数据还算可靠，又不是不能用。</p>
<p>参考文章：<a href="https://digu.plus/post/8034746f42b3495fbb19926e3fb8ec4f/">部署独立统计分析服务Umami</a></p>
<hr>
<h2 id="rsshub-部署到-vercel">RSSHub 部署到 Vercel</h2>
<p><a href="https://docs.rsshub.app/install/#bu-shu-dao-vercel-zeit-now">可以一键部署到 Vercel</a>，也是为了配合 Reeder 使用。</p>
<hr>
<h2 id="memos-部署到-flyio">memos 部署到 fly.io</h2>
<p>参考文章：<a href="https://github.com/hu3rror/memos-on-fly/">hu3rror/memos-on-fly: ✍️</a></p>
<p>感谢  <mark>hu3rror</mark>   帮忙检测了错误。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 新建 Bucket，type 改成 Private，另外2个设置都是 Disabled 。需要将下面代码中 &lt;keyId&gt; 和 &lt; applicationKey &gt; 替换为 Backblaze 平台上 App Keys 里生成的。</span>
</span></span><span class="line"><span class="cl">flyctl secrets <span class="nb">set</span> <span class="nv">LITESTREAM_ACCESS_KEY_ID</span><span class="o">=</span><span class="s2">&#34;&lt;keyId&gt;&#34;</span> <span class="nv">LITESTREAM_SECRET_ACCESS_KEY</span><span class="o">=</span><span class="s2">&#34;&lt;applicationKey&gt;&#34;</span>
</span></span></code></pre></div><p>Backblaze 里的数据库 本质上是调用了 sqlite 的 wal mode，所以是以 &ldquo;WAL&rdquo;（预写日志）形式存在的。上传备份的数据库替换方法，参考文章：<a href="https://royli.dev/blog/2022/use-litestream-to-duplicate-sqlite-databases">借由 Litestream 方便备份你的 SQLite 数据库 - Roy Li&rsquo;s Blog</a> 还要在 macOS 上通过虚拟机安装 Linux 操作，还挺麻烦的，我也正在研究……</p>
<p>memos提示更新的时候，使用以下命令重新部署：<code>flyctl deploy --no-cache</code></p>
<hr>
<h2 id="感谢-chatgpt-的帮助">感谢 ChatGPT 的帮助</h2>
<p>在折腾的过程中，遇到的一些问题也通过向 ChatGPT 提问获得了帮助。</p>
<hr>
<h2 id="等待继续研究折腾的">等待继续研究折腾的</h2>
<ul>
<li><input disabled="" type="checkbox"> remark42 评论系统</li>
<li><input disabled="" type="checkbox"> 将旧服务器中的 memos 数据迁移到 Backblaze</li>
</ul>
]]></content:encoded>
    </item>
    
  </channel>
</rss>
